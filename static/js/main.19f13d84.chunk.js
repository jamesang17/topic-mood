(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{219:function(e,t,n){e.exports=n.p+"static/media/twitter.f9efc7fe.svg"},265:function(e,t,n){e.exports=n(477)},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},473:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},477:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(18),c=n.n(l),o=(n(270),n(271),n(223)),i=n(224),s=n(13),u=n(14),m=n(16),p=n(15),d=n(19),h=r.a.createContext(),b=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={runData:[],topic:"",apiResponse:""},a.getDagRuns=a.getDagRuns.bind(Object(d.a)(a)),a.parseAndSetDagRuns=a.parseAndSetDagRuns.bind(Object(d.a)(a)),a.handleTopicSubmit=a.handleTopicSubmit.bind(Object(d.a)(a)),a.handleTrendSubmit=a.handleTrendSubmit.bind(Object(d.a)(a)),a.triggerRun=a.triggerRun.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleTopicSubmit",value:function(e){console.log("Clicked submit!"),this.triggerRun(this.state.topic),console.log("Response: "+this.state.apiResponse)}},{key:"handleTrendSubmit",value:function(e){console.log("Clicked submit!"),this.triggerRun("trends"),console.log("Response: "+this.state.apiResponse)}},{key:"parseAndSetDagRuns",value:function(e){for(var t=[],n=e.length-1,a=0;a<10;a++){var r=new Map;r.set("startDate",e[n-a].start_date),r.set("state",e[n-a].state),t.push(r)}this.setState({runData:t})}},{key:"getDagRuns",value:function(){var e=this;fetch("http://localhost:4000/dag_runs").then((function(e){return e.json()})).then((function(t){return e.parseAndSetDagRuns(t)})).catch((function(e){return e}))}},{key:"triggerRun",value:function(e){var t=this;console.log("Topic: "+e),fetch("http://localhost:4000/trigger_dag/"+e).then((function(e){return e.text()})).then((function(e){return t.setState({apiResponse:e})})),this.getDagRuns()}},{key:"componentDidMount",value:function(){this.getDagRuns()}},{key:"render",value:function(){var e=this;return r.a.createElement(h.Provider,{value:{state:this.state,setRunData:function(t){return e.setState({runData:t})},setTopic:function(t){return e.setState({topic:t})},handleTopicSubmit:this.handleTopicSubmit,handleTrendSubmit:this.handleTrendSubmit,getDagRuns:this.getDagRuns}},this.props.children)}}]),n}(r.a.Component);var v=function(e){return function(t){Object(m.a)(a,t);var n=Object(p.a)(a);function a(){return Object(s.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){console.log("old props:",e),console.log("new props:",this.props)}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(r.a.Component)},g=n(524),f=n(526),E=n(102),O=n.n(E),y=n(529),S=n(533),j=n(532),k=n(528),C=n(530),T=n(531),N=n(479),x=n(5),R=(n(272),Object(g.a)({table:{minWidth:800}})),D=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).colorState=a.colorState.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"colorState",value:function(e){return"success"===e?r.a.createElement("p",{className:"Success-state"},e):"failed"===e?r.a.createElement("p",{className:"Failed-state"},e):r.a.createElement("p",{className:"Other-state"},e)}},{key:"render",value:function(){var e=this,t=R;return r.a.createElement("div",null,r.a.createElement(h.Consumer,null,(function(n){return r.a.createElement("div",null,r.a.createElement("div",{className:"Refresh-button"},r.a.createElement(f.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(O.a,{style:{fontSize:40}}),onClick:n.getDagRuns},"Refresh")),r.a.createElement(k.a,{component:N.a},r.a.createElement(y.a,{className:t.table,"aria-label":"Ingestion Runs",stickyHeader:!0,size:"medium"},r.a.createElement(C.a,null,r.a.createElement(T.a,null,r.a.createElement(j.a,null,"Start Date"),r.a.createElement(j.a,null,"State"))),r.a.createElement(S.a,null,n.state.runData.map((function(t,n){return r.a.createElement(T.a,{key:n},r.a.createElement(j.a,{component:"th",scope:"row"},t.get("startDate")),r.a.createElement(j.a,null,e.colorState(t.get("state"))))}))))))})))}}]),n}(r.a.Component);D.contextType=h;var w=v(Object(x.a)(R)(D)),I=n(534),z=n(548),M=n(552),A=n(540),P=n(536),G=n(537),W=n(535),B=(n(277),Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)}}}))),F=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={openTopicDialog:!1,openTrendDialog:!1},a.handleTopicClickOpen=a.handleTopicClickOpen.bind(Object(d.a)(a)),a.handleTrendClickOpen=a.handleTrendClickOpen.bind(Object(d.a)(a)),a.handleClose=a.handleClose.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleTopicClickOpen",value:function(){console.log("Clicked Topic button!"),this.setState({openTopicDialog:!0})}},{key:"handleTrendClickOpen",value:function(){console.log("Clicked Trend button!"),this.setState({openTrendDialog:!0})}},{key:"handleClose",value:function(){console.log("Closing!"),!0===this.state.openTopicDialog&&this.setState({openTopicDialog:!1}),!0===this.state.openTrendDialog&&this.setState({openTrendDialog:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h.Consumer,null,(function(t){return r.a.createElement("div",null,r.a.createElement("div",{className:"Fab-button"},r.a.createElement(I.a,{variant:"extended",onClick:e.handleTopicClickOpen},"Start Topic Ingestion")),r.a.createElement("div",{className:"Fab-button"},r.a.createElement(I.a,{variant:"extended",onClick:e.handleTrendClickOpen},"Start Trend Ingestion")),r.a.createElement(M.a,{onClose:e.handleClose,"aria-labelledby":"form-dialog-title",open:e.state.openTopicDialog},r.a.createElement(W.a,{id:"form-dialog-title"},"Start Topic Ingestion"),r.a.createElement(P.a,null,r.a.createElement(G.a,null,'Enter the topic you would you like to run sentiment analysis on. The topic field can take single phrase topics such as "NYC" or "New York City". At the moment it cannot take multiple topics at the same time such as "NYC,CA".'),r.a.createElement(z.a,{autoFocus:!0,margin:"dense",id:"topic",label:"topic",type:"text",fullWidth:!0,inputRef:e.ref,onChange:function(e){return t.setTopic(e.currentTarget.value)}})),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){t.handleTopicSubmit(),e.handleClose()},color:"primary"},"Start"))),r.a.createElement(M.a,{onClose:e.handleClose,"aria-labelledby":"form-dialog-title",open:e.state.openTrendDialog},r.a.createElement(W.a,{id:"form-dialog-title"},"Start Trend Ingestion"),r.a.createElement(P.a,null,r.a.createElement(G.a,null,"Run sentiment analysis on the top 5 globally trending topics on twitter.")),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){t.handleTrendSubmit(),e.handleClose()},color:"primary"},"Start"))))})))}}]),n}(r.a.Component);F.contextType=h;var J=Object(x.a)(B)(F),H=(n(278),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Ingestion-module"},r.a.createElement(b,null,r.a.createElement("div",{className:"Ingestion-component"},r.a.createElement(J,null)),r.a.createElement("div",{className:"Historical-Runs"},r.a.createElement(w,null))))}}]),n}(r.a.Component)),U=n(79),V=n.n(U),Y=n(135),_=n(553),K=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={open:!1},a.handleOpen=a.handleOpen.bind(Object(d.a)(a)),a.handleClose=a.handleClose.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,autoHideDuration:3e3,onClose:this.handleClose,message:"No results were found for that topic."}))}}]),n}(r.a.Component),L=n(280),$=r.a.createContext(),q=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={value:"",topic:"",data:[],latestSen:"",posSent:"",negSent:"",previousTopics:[]},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleItemClick=a.handleItemClick.bind(Object(d.a)(a)),a.getTopicData=a.getTopicData.bind(Object(d.a)(a)),a.getTopics=a.getTopics.bind(Object(d.a)(a)),a.snackRef=r.a.createRef(),a}return Object(u.a)(n,[{key:"handleOpenSnack",value:function(){this.snackRef.current.handleOpen()}},{key:"getTopics",value:function(){var e=this;this.getAnalyzedTopics().then((function(t){for(var n=JSON.parse(t.data.body).Items,a=[],r=new Set,l=0;l<4;){var c=Math.floor(Math.random()*n.length);r.has(c)||(a.push(n[c].topic),r.add(c),l++)}e.setState({submitted:!1}),e.setState({previousTopics:a})}))}},{key:"componentDidMount",value:function(){this.getTopics()}},{key:"handleChange",value:function(e){this.setState({value:e.currentTarget.value})}},{key:"getTopicData",value:function(e){var t=this;this.getSentimentResults(e).then((function(e){null===e?t.handleOpenSnack():(t.setState({data:e.get("data")}),t.setState({topic:e.get("topic")}),t.setState({latestSen:e.get("latestSen")}),t.setState({posSent:e.get("posSent")}),t.setState({negSent:e.get("negSent")}))}))}},{key:"handleSubmit",value:function(e){""===this.state.value?this.handleOpenSnack():this.getTopicData(this.state.value)}},{key:"handleItemClick",value:function(e){var t=e.currentTarget.innerText;this.setState({topic:t},(function(){this.getTopicData(this.state.topic)}))}},{key:"getAnalyzedTopics",value:function(){var e=Object(Y.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("https://wwxa5xebjh.execute-api.us-east-1.amazonaws.com/dev/sentimentresults/topics");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTopicSentiment",value:function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("https://wwxa5xebjh.execute-api.us-east-1.amazonaws.com/dev/sentimentresults/topics/"+encodeURIComponent(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSentimentResults",value:function(e){return this.getTopicSentiment(e).then((function(e){var t=new Map,n=[],a=JSON.parse(e.data.body).Items;if(0===a.length)return null;for(var r=0;r<a.length;r++){var l=a[r].timestamp.split("T")[0],c=a[r].sentiment;n.push({timestamp:l,sentiment:c})}return t.set("data",n),t.set("topic",a[0].topic),t.set("latestSen",a[a.length-1].sentiment),t.set("posSent",a[a.length-1].maxPosText),t.set("negSent",a[a.length-1].maxNegText),t}))}},{key:"render",value:function(){var e=this;return r.a.createElement($.Provider,{value:{state:this.state,setTopic:function(t){return e.setState({topic:t})},setData:function(t){return e.setState({data:t})},handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleItemClick:this.handleItemClick,getTopics:this.getTopics}},this.props.children,r.a.createElement(K,{ref:this.snackRef}))}}]),n}(r.a.Component),Q=n(539),X=n(541),Z=n(542),ee=Object(g.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}})),te=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=ee;return r.a.createElement("div",null,r.a.createElement($.Consumer,null,(function(t){return r.a.createElement("div",null,r.a.createElement("div",{className:"Refresh-button"},r.a.createElement(f.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(O.a,{style:{fontSize:25}}),onClick:t.getTopics},"Refresh Topics")),r.a.createElement(Q.a,{component:"nav",className:e.root,"aria-label":"mailbox folders"},t.state.previousTopics.map((function(e,n){return r.a.createElement(X.a,{key:n,button:!0,onClick:t.handleItemClick},r.a.createElement(Z.a,{primary:e}))}))))})))}}]),n}(r.a.Component);te.contextType=$;var ne=Object(x.a)(ee)(te),ae=n(543),re=n(202),le=n.n(re),ce=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement($.Consumer,null,(function(t){return r.a.createElement(ae.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(ae.a,{item:!0},r.a.createElement(z.a,{variant:"standard",label:"Search Analyzed Topics",helperText:"single topics e.g. Twitter, Python",value:e.context.topic,onChange:e.context.handleChange})),r.a.createElement(ae.a,{item:!0},r.a.createElement(f.a,{variant:"contained",size:"large",color:"primary",onClick:e.context.handleSubmit},r.a.createElement(le.a,{fontSize:"default"}))))})))}}]),n}(r.a.Component);ce.contextType=$;var oe=ce,ie=n(37),se=(n(473),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"Topic: ",e.state.topic),r.a.createElement("div",{className:"Chart-container"},r.a.createElement(ie.e,{width:"100%",height:400},r.a.createElement(ie.d,{data:e.state.data,margin:{top:5,right:20,left:20,bottom:5}},r.a.createElement(ie.a,{strokeDasharray:"3 3"}),r.a.createElement(ie.g,{dataKey:"timestamp"}),r.a.createElement(ie.h,null),r.a.createElement(ie.f,null),r.a.createElement(ie.b,null),r.a.createElement(ie.c,{type:"monotone",dataKey:"sentiment",stroke:"#8884d8",activeDot:{r:8}})))))})))}}]),n}(r.a.Component));se.contextType=$;var ue=se,me=n(216),pe=n.n(me),de=n(215),he=n.n(de),be=n(212),ve=n.n(be),ge=n(213),fe=n.n(ge),Ee=n(214),Oe=n.n(Ee),ye=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).renderEmoji=a.renderEmoji.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"renderEmoji",value:function(e){return e>=.05&&e<=.2?r.a.createElement("div",null,r.a.createElement("p",null,"Positive"),r.a.createElement(ve.a,{style:{fontSize:100}})):e<=-.05&&e>=-.2?r.a.createElement("div",null,r.a.createElement("p",null,"Negative"),r.a.createElement(fe.a,{style:{fontSize:100}})):e<-.2?r.a.createElement("div",null,r.a.createElement("p",null,"Very Negative"),r.a.createElement(Oe.a,{style:{fontSize:100}})):e>.2?r.a.createElement("div",null,r.a.createElement("p",null,"Very Positive"),r.a.createElement(he.a,{style:{fontSize:100}})):""===e?r.a.createElement("p",null):r.a.createElement("div",null,r.a.createElement("p",null,"Neutral"),r.a.createElement(pe.a,{style:{fontSize:100}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"Latest Sentiment"),r.a.createElement($.Consumer,null,(function(t){return r.a.createElement("div",null,e.renderEmoji(t.state.latestSen))})))}}]),n}(r.a.Component);ye.contextType=$;var Se=ye,je=n(217),ke=n.n(je),Ce=n(218),Te=n.n(Ce),Ne=(n(474),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Sentence-container"},r.a.createElement("p",{className:"Sentence-header"},"Sentences"),r.a.createElement($.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement(ke.a,null),r.a.createElement("p",{className:"Sentence"},e.state.posSent),r.a.createElement(Te.a,null),r.a.createElement("p",{className:"Sentence"},e.state.negSent))})))}}]),n}(r.a.Component));Ne.contextType=$;var xe=Ne,Re=(n(475),n(544)),De=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Monitoring-module"},r.a.createElement(q,null,r.a.createElement("div",{className:"Monitoring-component-container"},r.a.createElement(oe,{className:"Monitoring-component"}),r.a.createElement("div",null,"PREVIOUS TOPICS",r.a.createElement(ne,{className:"Monitoring-component"}))),r.a.createElement(Re.a,{variant:"middle"}),r.a.createElement("div",{className:"Monitoring-component-container"},r.a.createElement(Se,{className:"Monitoring-component"}),r.a.createElement(xe,{className:"Monitoring-component"})),r.a.createElement(Re.a,{variant:"middle"}),r.a.createElement("div",{className:"Monitoring-component-container"},r.a.createElement(ue,{className:"Monitoring-component"}))))}}]),n}(r.a.Component),we=n(219),Ie=n.n(we),ze=n(545),Me=n(70),Ae=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Pe=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(ze.a,{position:"static"},r.a.createElement(Me.a,{variant:"h6",className:this.props.classes.title},"Tweet Analyzer"),r.a.createElement("img",{src:Ie.a,className:"App-logo",alt:"logo"})))}}]),n}(r.a.Component),Ge=Object(x.a)(Ae)(Pe),We=n(550),Be=n(546),Fe=n(549);n(476);function Je(e){var t=e.children,n=e.value,a=e.index,l=Object(i.a)(e,["children","value","index"]);return r.a.createElement(Me.a,Object.assign({component:"div",role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},l),n===a&&r.a.createElement(Fe.a,{p:3},t))}function He(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Ue=Object(g.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function Ve(){var e=Ue(),t=r.a.useState(0),n=Object(o.a)(t,2),a=n[0],l=n[1];return r.a.createElement("div",{className:e.root},r.a.createElement(Ge,null),r.a.createElement(ze.a,{position:"static"},r.a.createElement(We.a,{value:a,onChange:function(e,t){l(t)},"aria-label":"simple tabs example"},r.a.createElement(Be.a,Object.assign({label:"MONITORING"},He(0))),r.a.createElement(Be.a,Object.assign({label:"INGESTION"},He(1),{disabled:!0})))),r.a.createElement(Je,{value:a,index:0,className:"Tab-panel"},r.a.createElement(De,null)),r.a.createElement(Je,{value:a,index:1,className:"Tab-panel",disabled:!0},r.a.createElement(H,null)))}var Ye=n(222),_e=n(220),Ke=n.n(_e),Le=n(221),$e=n.n(Le),qe=Object(Ye.a)({palette:{primary:Ke.a,secondary:$e.a},overrides:{MuiButton:{root:{color:"pink",size:"large"}}}}),Qe=n(547);var Xe=function(){return r.a.createElement(Qe.a,{theme:qe},r.a.createElement("div",{className:"App"},r.a.createElement(Ve,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[265,1,2]]]);
//# sourceMappingURL=main.19f13d84.chunk.js.map