(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{207:function(e,t,n){e.exports=n.p+"static/media/twitter.f9efc7fe.svg"},253:function(e,t,n){e.exports=n(448)},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){},444:function(e,t,n){},445:function(e,t,n){},446:function(e,t,n){},447:function(e,t,n){},448:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n.n(a),r=n(18),c=n.n(r),o=(n(258),n(259),n(211)),i=n(212),s=n(13),u=n(14),m=n(16),p=n(15),d=n(19),h=l.a.createContext(),b=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={runData:[],topic:"",apiResponse:""},a.getDagRuns=a.getDagRuns.bind(Object(d.a)(a)),a.parseAndSetDagRuns=a.parseAndSetDagRuns.bind(Object(d.a)(a)),a.handleTopicSubmit=a.handleTopicSubmit.bind(Object(d.a)(a)),a.handleTrendSubmit=a.handleTrendSubmit.bind(Object(d.a)(a)),a.triggerRun=a.triggerRun.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleTopicSubmit",value:function(e){console.log("Clicked submit!"),this.triggerRun(this.state.topic),console.log("Response: "+this.state.apiResponse)}},{key:"handleTrendSubmit",value:function(e){console.log("Clicked submit!"),this.triggerRun("trends"),console.log("Response: "+this.state.apiResponse)}},{key:"parseAndSetDagRuns",value:function(e){for(var t=[],n=e.length-1,a=0;a<10;a++){var l=new Map;l.set("startDate",e[n-a].start_date),l.set("state",e[n-a].state),t.push(l)}this.setState({runData:t})}},{key:"getDagRuns",value:function(){var e=this;fetch("http://localhost:4000/dag_runs").then((function(e){return e.json()})).then((function(t){return e.parseAndSetDagRuns(t)})).catch((function(e){return e}))}},{key:"triggerRun",value:function(e){var t=this;console.log("Topic: "+e),fetch("http://localhost:4000/trigger_dag/"+e).then((function(e){return e.text()})).then((function(e){return t.setState({apiResponse:e})})),this.getDagRuns()}},{key:"componentDidMount",value:function(){this.getDagRuns()}},{key:"render",value:function(){var e=this;return l.a.createElement(h.Provider,{value:{state:this.state,setRunData:function(t){return e.setState({runData:t})},setTopic:function(t){return e.setState({topic:t})},handleTopicSubmit:this.handleTopicSubmit,handleTrendSubmit:this.handleTrendSubmit,getDagRuns:this.getDagRuns}},this.props.children)}}]),n}(l.a.Component);var v=function(e){return function(t){Object(m.a)(a,t);var n=Object(p.a)(a);function a(){return Object(s.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){console.log("old props:",e),console.log("new props:",this.props)}},{key:"render",value:function(){return l.a.createElement(e,this.props)}}]),a}(l.a.Component)},f=n(498),g=n(500),E=n(100),O=n.n(E),j=n(503),y=n(507),S=n(506),C=n(502),k=n(504),T=n(505),N=n(450),D=n(5),R=(n(260),Object(f.a)({table:{minWidth:800}})),x=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).colorState=a.colorState.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"colorState",value:function(e){return"success"===e?l.a.createElement("p",{className:"Success-state"},e):"failed"===e?l.a.createElement("p",{className:"Failed-state"},e):l.a.createElement("p",{className:"Other-state"},e)}},{key:"render",value:function(){var e=this,t=R;return l.a.createElement("div",null,l.a.createElement(h.Consumer,null,(function(n){return l.a.createElement("div",null,l.a.createElement("div",{className:"Refresh-button"},l.a.createElement(g.a,{variant:"contained",color:"primary",endIcon:l.a.createElement(O.a,{style:{fontSize:40}}),onClick:n.getDagRuns},"Refresh")),l.a.createElement(C.a,{component:N.a},l.a.createElement(j.a,{className:t.table,"aria-label":"Ingestion Runs",stickyHeader:!0,size:"medium"},l.a.createElement(k.a,null,l.a.createElement(T.a,null,l.a.createElement(S.a,null,"Start Date"),l.a.createElement(S.a,null,"State"))),l.a.createElement(y.a,null,n.state.runData.map((function(t,n){return l.a.createElement(T.a,{key:n},l.a.createElement(S.a,{component:"th",scope:"row"},t.get("startDate")),l.a.createElement(S.a,null,e.colorState(t.get("state"))))}))))))})))}}]),n}(l.a.Component);x.contextType=h;var I=v(Object(D.a)(R)(x)),w=n(508),M=n(522),z=n(526),A=n(514),P=n(510),G=n(511),W=n(509),B=(n(265),Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)}}}))),F=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={openTopicDialog:!1,openTrendDialog:!1},a.handleTopicClickOpen=a.handleTopicClickOpen.bind(Object(d.a)(a)),a.handleTrendClickOpen=a.handleTrendClickOpen.bind(Object(d.a)(a)),a.handleClose=a.handleClose.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleTopicClickOpen",value:function(){console.log("Clicked Topic button!"),this.setState({openTopicDialog:!0})}},{key:"handleTrendClickOpen",value:function(){console.log("Clicked Trend button!"),this.setState({openTrendDialog:!0})}},{key:"handleClose",value:function(){console.log("Closing!"),!0===this.state.openTopicDialog&&this.setState({openTopicDialog:!1}),!0===this.state.openTrendDialog&&this.setState({openTrendDialog:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(h.Consumer,null,(function(t){return l.a.createElement("div",null,l.a.createElement("div",{className:"Fab-button"},l.a.createElement(w.a,{variant:"extended",onClick:e.handleTopicClickOpen},"Start Topic Ingestion")),l.a.createElement("div",{className:"Fab-button"},l.a.createElement(w.a,{variant:"extended",onClick:e.handleTrendClickOpen},"Start Trend Ingestion")),l.a.createElement(z.a,{onClose:e.handleClose,"aria-labelledby":"form-dialog-title",open:e.state.openTopicDialog},l.a.createElement(W.a,{id:"form-dialog-title"},"Start Topic Ingestion"),l.a.createElement(P.a,null,l.a.createElement(G.a,null,'Enter the topic you would you like to run sentiment analysis on. The topic field can take single phrase topics such as "NYC" or "New York City". At the moment it cannot take multiple topics at the same time such as "NYC,CA".'),l.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"topic",label:"topic",type:"text",fullWidth:!0,inputRef:e.ref,onChange:function(e){return t.setTopic(e.currentTarget.value)}})),l.a.createElement(A.a,null,l.a.createElement(g.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),l.a.createElement(g.a,{onClick:function(){t.handleTopicSubmit(),e.handleClose()},color:"primary"},"Start"))),l.a.createElement(z.a,{onClose:e.handleClose,"aria-labelledby":"form-dialog-title",open:e.state.openTrendDialog},l.a.createElement(W.a,{id:"form-dialog-title"},"Start Trend Ingestion"),l.a.createElement(P.a,null,l.a.createElement(G.a,null,"Run sentiment analysis on the top 5 globally trending topics on twitter.")),l.a.createElement(A.a,null,l.a.createElement(g.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),l.a.createElement(g.a,{onClick:function(){t.handleTrendSubmit(),e.handleClose()},color:"primary"},"Start"))))})))}}]),n}(l.a.Component);F.contextType=h;var J=Object(D.a)(B)(F),H=(n(266),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{className:"Ingestion-module"},l.a.createElement(b,null,l.a.createElement("div",{className:"Ingestion-component"},l.a.createElement(J,null)),l.a.createElement("div",{className:"Historical-Runs"},l.a.createElement(I,null))))}}]),n}(l.a.Component)),U=n(527),V=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={open:!1},a.handleOpen=a.handleOpen.bind(Object(d.a)(a)),a.handleClose=a.handleClose.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(U.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,autoHideDuration:3e3,onClose:this.handleClose,message:"No results were found for that topic."}))}}]),n}(l.a.Component),Y=l.a.createContext(),_=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={value:"",topic:"",data:[],latestSen:"",posSent:"",negSent:"",previousTopics:[]},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleItemClick=a.handleItemClick.bind(Object(d.a)(a)),a.getTopicData=a.getTopicData.bind(Object(d.a)(a)),a.getTopics=a.getTopics.bind(Object(d.a)(a)),a.snackRef=l.a.createRef(),a}return Object(u.a)(n,[{key:"handleOpenSnack",value:function(){this.snackRef.current.handleOpen()}},{key:"getTopics",value:function(){var e=this;fetch("http://localhost:4000/topics").then((function(e){return e.json()})).then((function(t){e.setState({submitted:!1}),e.setState({previousTopics:t})})).catch((function(e){return e}))}},{key:"componentDidMount",value:function(){this.getTopics()}},{key:"handleChange",value:function(e){this.setState({value:e.currentTarget.value})}},{key:"getTopicData",value:function(e){var t=this,n=encodeURIComponent(e);fetch("http://localhost:4000/topics/"+n).then((function(e){return e.text()})).then((function(e){if(0===JSON.parse(e).length)t.handleOpenSnack();else{var n=new Map(JSON.parse(e));t.setState({data:n.get("data")}),t.setState({topic:n.get("topic")}),t.setState({latestSen:n.get("latestSen")}),t.setState({posSent:n.get("posSent")}),t.setState({negSent:n.get("negSent")})}}))}},{key:"handleSubmit",value:function(e){""===this.state.value?this.handleOpenSnack():this.getTopicData(this.state.value)}},{key:"handleItemClick",value:function(e){var t=e.currentTarget.innerText;this.setState({topic:t},(function(){this.getTopicData(this.state.topic)}))}},{key:"render",value:function(){var e=this;return l.a.createElement(Y.Provider,{value:{state:this.state,setTopic:function(t){return e.setState({topic:t})},setData:function(t){return e.setState({data:t})},handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleItemClick:this.handleItemClick,getTopics:this.getTopics}},this.props.children,l.a.createElement(V,{ref:this.snackRef}))}}]),n}(l.a.Component),K=n(513),L=n(515),$=n(516),q=Object(f.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}})),Q=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=q;return l.a.createElement("div",null,l.a.createElement(Y.Consumer,null,(function(t){return l.a.createElement("div",null,l.a.createElement("div",{className:"Refresh-button"},l.a.createElement(g.a,{variant:"contained",color:"primary",endIcon:l.a.createElement(O.a,{style:{fontSize:25}}),onClick:t.getTopics},"Refresh Topics")),l.a.createElement(K.a,{component:"nav",className:e.root,"aria-label":"mailbox folders"},t.state.previousTopics.map((function(e,n){return l.a.createElement(L.a,{key:n,button:!0,onClick:t.handleItemClick},l.a.createElement($.a,{primary:e}))}))))})))}}]),n}(l.a.Component);Q.contextType=Y;var X=Object(D.a)(q)(Q),Z=n(517),ee=n(190),te=n.n(ee),ne=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Y.Consumer,null,(function(t){return l.a.createElement(Z.a,{container:!0,spacing:2,alignItems:"flex-end"},l.a.createElement(Z.a,{item:!0},l.a.createElement(M.a,{variant:"standard",label:"Search Analyzed Topics",helperText:"single topics e.g. Twitter, Python",value:e.context.topic,onChange:e.context.handleChange})),l.a.createElement(Z.a,{item:!0},l.a.createElement(g.a,{variant:"contained",size:"large",color:"primary",onClick:e.context.handleSubmit},l.a.createElement(te.a,{fontSize:"default"}))))})))}}]),n}(l.a.Component);ne.contextType=Y;var ae=ne,le=n(36),re=(n(444),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Y.Consumer,null,(function(e){return l.a.createElement("div",null,l.a.createElement("p",null,"Topic: ",e.state.topic),l.a.createElement("div",{className:"Chart-container"},l.a.createElement(le.e,{width:"100%",height:400},l.a.createElement(le.d,{data:e.state.data,margin:{top:5,right:20,left:20,bottom:5}},l.a.createElement(le.a,{strokeDasharray:"3 3"}),l.a.createElement(le.g,{dataKey:"timestamp"}),l.a.createElement(le.h,null),l.a.createElement(le.f,null),l.a.createElement(le.b,null),l.a.createElement(le.c,{type:"monotone",dataKey:"sentiment",stroke:"#8884d8",activeDot:{r:8}})))))})))}}]),n}(l.a.Component));re.contextType=Y;var ce=re,oe=n(204),ie=n.n(oe),se=n(203),ue=n.n(se),me=n(200),pe=n.n(me),de=n(201),he=n.n(de),be=n(202),ve=n.n(be),fe=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).renderEmoji=a.renderEmoji.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"renderEmoji",value:function(e){return e>=.05&&e<=.2?l.a.createElement("div",null,l.a.createElement("p",null,"Positive"),l.a.createElement(pe.a,{style:{fontSize:100}})):e<=-.05&&e>=-.2?l.a.createElement("div",null,l.a.createElement("p",null,"Negative"),l.a.createElement(he.a,{style:{fontSize:100}})):e<-.2?l.a.createElement("div",null,l.a.createElement("p",null,"Very Negative"),l.a.createElement(ve.a,{style:{fontSize:100}})):e>.2?l.a.createElement("div",null,l.a.createElement("p",null,"Very Positive"),l.a.createElement(ue.a,{style:{fontSize:100}})):""===e?l.a.createElement("p",null):l.a.createElement("div",null,l.a.createElement("p",null,"Neutral"),l.a.createElement(ie.a,{style:{fontSize:100}}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("p",null,"Latest Sentiment"),l.a.createElement(Y.Consumer,null,(function(t){return l.a.createElement("div",null,e.renderEmoji(t.state.latestSen))})))}}]),n}(l.a.Component);fe.contextType=Y;var ge=fe,Ee=n(205),Oe=n.n(Ee),je=n(206),ye=n.n(je),Se=(n(445),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{className:"Sentence-container"},l.a.createElement("p",{className:"Sentence-header"},"Sentences"),l.a.createElement(Y.Consumer,null,(function(e){return l.a.createElement("div",null,l.a.createElement(Oe.a,null),l.a.createElement("p",{className:"Sentence"},e.state.posSent),l.a.createElement(ye.a,null),l.a.createElement("p",{className:"Sentence"},e.state.negSent))})))}}]),n}(l.a.Component));Se.contextType=Y;var Ce=Se,ke=(n(446),n(518)),Te=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{className:"Monitoring-module"},l.a.createElement(_,null,l.a.createElement("div",{className:"Monitoring-component-container"},l.a.createElement(ae,{className:"Monitoring-component"}),l.a.createElement("div",null,"PREVIOUS TOPICS",l.a.createElement(X,{className:"Monitoring-component"}))),l.a.createElement(ke.a,{variant:"middle"}),l.a.createElement("div",{className:"Monitoring-component-container"},l.a.createElement(ge,{className:"Monitoring-component"}),l.a.createElement(Ce,{className:"Monitoring-component"})),l.a.createElement(ke.a,{variant:"middle"}),l.a.createElement("div",{className:"Monitoring-component-container"},l.a.createElement(ce,{className:"Monitoring-component"}))))}}]),n}(l.a.Component),Ne=n(207),De=n.n(Ne),Re=n(519),xe=n(69),Ie=Object(f.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),we=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.classes.root},l.a.createElement(Re.a,{position:"static"},l.a.createElement(xe.a,{variant:"h6",className:this.props.classes.title},"Tweet Analyzer"),l.a.createElement("img",{src:De.a,className:"App-logo",alt:"logo"})))}}]),n}(l.a.Component),Me=Object(D.a)(Ie)(we),ze=n(524),Ae=n(520),Pe=n(523);n(447);function Ge(e){var t=e.children,n=e.value,a=e.index,r=Object(i.a)(e,["children","value","index"]);return l.a.createElement(xe.a,Object.assign({component:"div",role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),n===a&&l.a.createElement(Pe.a,{p:3},t))}function We(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Be=Object(f.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function Fe(){var e=Be(),t=l.a.useState(0),n=Object(o.a)(t,2),a=n[0],r=n[1];return l.a.createElement("div",{className:e.root},l.a.createElement(Me,null),l.a.createElement(Re.a,{position:"static"},l.a.createElement(ze.a,{value:a,onChange:function(e,t){r(t)},"aria-label":"simple tabs example"},l.a.createElement(Ae.a,Object.assign({label:"MONITORING"},We(0))),l.a.createElement(Ae.a,Object.assign({label:"INGESTION"},We(1),{disabled:!0})))),l.a.createElement(Ge,{value:a,index:0,className:"Tab-panel"},l.a.createElement(Te,null)),l.a.createElement(Ge,{value:a,index:1,className:"Tab-panel",disabled:!0},l.a.createElement(H,null)))}var Je=n(210),He=n(208),Ue=n.n(He),Ve=n(209),Ye=n.n(Ve),_e=Object(Je.a)({palette:{primary:Ue.a,secondary:Ye.a},overrides:{MuiButton:{root:{color:"pink",size:"large"}}}}),Ke=n(521);var Le=function(){return l.a.createElement(Ke.a,{theme:_e},l.a.createElement("div",{className:"App"},l.a.createElement(Fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[253,1,2]]]);
//# sourceMappingURL=main.efe74131.chunk.js.map